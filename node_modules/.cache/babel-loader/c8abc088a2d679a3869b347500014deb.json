{"ast":null,"code":"var _jsxFileName = \"/Users/zainaaban/Documents/Northeastern/nf20/CS4550/cs4550-f20-client-react-aaban/src/components/CourseEditor.js\";\nimport React from \"react\";\nimport { findCourseById } from \"../services/CourseService\";\nimport ReactDOM from 'react-dom';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport \"./styles.css\";\nimport \"./course-editor.style.client.css\";\nimport ModuleList from \"./ModuleList\";\nimport moduleService from \"../services/ModuleService\";\nimport { connect } from \"react-redux\";\nimport LessonTabs from \"./LessonTabs\";\nimport TopicTabs from \"./TopicTabs\";\nimport lessonService from \"../services/LessonService\";\nimport topicService from \"../services/TopicService\";\nimport widgetService from \"../services/WidgetService\";\nimport { faPlus, faPlusSquare, faTimes, faArrowUp, faArrowDown } from \"@fortawesome/free-solid-svg-icons\";\nimport { Link } from \"react-router-dom\";\nimport WidgetList from \"./WidgetList\";\n\nclass CourseEditor extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      course: {\n        title: \"\",\n        _id: \"\"\n      },\n      module: []\n    };\n  }\n\n  // initialization\n  componentDidMount() {\n    const courseId = this.props.match.params.courseId;\n    const moduleId = this.props.match.params.moduleId;\n    const lessonId = this.props.match.params.lessonId;\n    const topicId = this.props.match.params.topicId;\n    this.props.findCourseById(courseId);\n    this.props.findModulesForCourse(courseId);\n\n    if (moduleId) {\n      this.props.findLessonsForModule(moduleId);\n    }\n\n    if (lessonId) {\n      this.props.findTopicsForLesson(lessonId);\n    }\n\n    if (topicId) {\n      this.props.findWidgetsForTopic(topicId);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const moduleId = this.props.match.params.moduleId;\n    const previousModuleId = prevProps.match.params.moduleId;\n    const lessonId = this.props.match.params.lessonId;\n    const previousLessonId = prevProps.match.params.lessonId;\n    const topicId = this.props.match.params.topicId;\n    const previousTopicId = prevProps.match.params.topicId;\n\n    if (moduleId !== previousModuleId) {\n      this.props.findLessonsForModule(moduleId);\n    }\n\n    if (lessonId !== previousLessonId) {\n      this.props.findTopicsForLesson(lessonId);\n    }\n\n    if (topicId !== previousTopicId) {\n      this.props.findWidgetsForTopic(topicId);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"body\", {\n      className: \"wbdv-no-padding-top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container wbdv-float-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"wbdv-sticky-header-editor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/courses\",\n      className: \"fas fa-times wbdv-padding-left-header wbdv-course-editor wbdv-close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTimes,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"wbdv-header-menu-icon-text wbdv-course-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }\n    }, \"CS4550-WebDev\"), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"nav nav-pills wbdv-nav-heading-style\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"nav-link nav-link-color active\",\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 19\n      }\n    }, \"Pages\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"nav-link nav-link-color\",\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 19\n      }\n    }, \"Settings\"))), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"wbdv-add-course-header-styling fas fa-plus wbdv-icon-align-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faPlus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 95\n      }\n    })), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-plus-square wbdv-bottom-right-fixed wbdv-lesson-add-btn wbdv-module-item-add-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faPlusSquare,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4 wbdv-left-content-pane-background\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ModuleList, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-8 wbdv-lesson-topic-tabs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(LessonTabs, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"nav nav-pills\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item wbdv-topic-pill-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TopicTabs, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(WidgetList, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nconst stateToProperty = state => ({\n  course: state.courseReducer.course\n});\n\nconst propertyToDispatchMapper = dispatch => ({\n  findTopicsForLesson: lessonId => {\n    topicService.findTopicsForLesson(lessonId).then(topics => dispatch({\n      type: \"FIND_TOPICS_FOR_LESSON\",\n      topics,\n      lessonId\n    }));\n  },\n  findLessonsForModule: moduleId => {\n    lessonService.findLessonsForModule(moduleId).then(lessons => dispatch({\n      type: \"FIND_LESSONS_FOR_MODULE\",\n      lessons,\n      moduleId\n    }));\n  },\n  findModulesForCourse: courseId => moduleService.findModulesForCourse(courseId).then(actualModules => dispatch({\n    type: \"FIND_MODULES_FOR_COURSE\",\n    modules: actualModules\n  })),\n  findCourseById: courseId => findCourseById(courseId).then(actualCourse => dispatch({\n    type: \"FIND_COURSE_BY_ID\",\n    course: actualCourse\n  })),\n  findWidgetsForTopic: topicId => widgetService.findWidgetsForTopic(topicId).then(widgets => dispatch({\n    type: \"FIND_WIDGETS_FOR_TOPIC\",\n    widgets,\n    topicId\n  }))\n});\n\nexport default connect(stateToProperty, propertyToDispatchMapper)(CourseEditor);","map":{"version":3,"sources":["/Users/zainaaban/Documents/Northeastern/nf20/CS4550/cs4550-f20-client-react-aaban/src/components/CourseEditor.js"],"names":["React","findCourseById","ReactDOM","FontAwesomeIcon","ModuleList","moduleService","connect","LessonTabs","TopicTabs","lessonService","topicService","widgetService","faPlus","faPlusSquare","faTimes","faArrowUp","faArrowDown","Link","WidgetList","CourseEditor","Component","state","course","title","_id","module","componentDidMount","courseId","props","match","params","moduleId","lessonId","topicId","findModulesForCourse","findLessonsForModule","findTopicsForLesson","findWidgetsForTopic","componentDidUpdate","prevProps","prevState","snapshot","previousModuleId","previousLessonId","previousTopicId","render","stateToProperty","courseReducer","propertyToDispatchMapper","dispatch","then","topics","type","lessons","actualModules","modules","actualCourse","widgets"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {findCourseById} from \"../services/CourseService\";\nimport ReactDOM from 'react-dom';\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport \"./styles.css\";\nimport \"./course-editor.style.client.css\";\nimport ModuleList from \"./ModuleList\";\nimport moduleService from \"../services/ModuleService\";\nimport {connect} from \"react-redux\";\nimport LessonTabs from \"./LessonTabs\";\nimport TopicTabs from \"./TopicTabs\";\nimport lessonService from \"../services/LessonService\";\nimport topicService from \"../services/TopicService\";\nimport widgetService from \"../services/WidgetService\"\n\nimport {\n  faPlus,\n  faPlusSquare,\n  faTimes, faArrowUp, faArrowDown\n} from \"@fortawesome/free-solid-svg-icons\";\nimport {Link} from \"react-router-dom\";\nimport WidgetList from \"./WidgetList\";\n\nclass CourseEditor extends React.Component{\n\n  state = {\n    course: {\n      title: \"\",\n      _id: \"\"\n    },\n    module: []\n  }\n\n  // initialization\n  componentDidMount() {\n    const courseId = this.props.match.params.courseId\n    const moduleId = this.props.match.params.moduleId\n    const lessonId = this.props.match.params.lessonId\n    const topicId = this.props.match.params.topicId\n    this.props.findCourseById(courseId)\n    this.props.findModulesForCourse(courseId)\n    if(moduleId) {\n      this.props.findLessonsForModule(moduleId)\n    }\n    if(lessonId) {\n      this.props.findTopicsForLesson(lessonId)\n    }\n    if (topicId) {\n      this.props.findWidgetsForTopic(topicId)\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const moduleId = this.props.match.params.moduleId\n    const previousModuleId = prevProps.match.params.moduleId\n    const lessonId = this.props.match.params.lessonId\n    const previousLessonId = prevProps.match.params.lessonId\n    const topicId = this.props.match.params.topicId\n    const previousTopicId = prevProps.match.params.topicId\n    if(moduleId !== previousModuleId) {\n      this.props.findLessonsForModule(moduleId)\n    }\n    if(lessonId !== previousLessonId) {\n      this.props.findTopicsForLesson(lessonId)\n    }\n    if (topicId !== previousTopicId) {\n      this.props.findWidgetsForTopic(topicId)\n    }\n  }\n\n  render() {\n    return(\n        <body className=\"wbdv-no-padding-top\">\n        <div className=\"container wbdv-float-left\">\n\n          <h1 className=\"wbdv-sticky-header-editor\">\n            <div className=\"form-group row\">\n              <Link to=\"/courses\" className=\"fas fa-times wbdv-padding-left-header wbdv-course-editor wbdv-close\">\n                <FontAwesomeIcon icon={faTimes}/>\n              </Link>\n              <label\n                  className=\"wbdv-header-menu-icon-text wbdv-course-title\">CS4550-WebDev</label>\n              <ul className=\"nav nav-pills wbdv-nav-heading-style\">\n                <li className=\"nav-item\">\n                  <a className=\"nav-link nav-link-color active\"\n                     href=\"#\">Pages</a>\n                </li>\n                <li className=\"nav-item\">\n                  <a className=\"nav-link nav-link-color\" href=\"#\">Settings</a>\n                </li>\n              </ul>\n              <i className=\"wbdv-add-course-header-styling fas fa-plus wbdv-icon-align-right\"><FontAwesomeIcon icon={faPlus}/></i>\n              <i className=\"fas fa-plus-square wbdv-bottom-right-fixed wbdv-lesson-add-btn wbdv-module-item-add-btn\"\n                 ><FontAwesomeIcon icon={faPlusSquare}/></i>\n            </div>\n          </h1>\n\n\n          <div className=\"row\">\n            <div className=\"col-4 wbdv-left-content-pane-background\">\n                <ModuleList/>\n            </div>\n\n\n            <div className=\"col-8 wbdv-lesson-topic-tabs\">\n              <LessonTabs/>\n\n              <br/>\n\n              <ul className=\"nav nav-pills\">\n                <li className=\"nav-item wbdv-topic-pill-list\">\n                  <TopicTabs/>\n                </li>\n              </ul>\n              <br/>\n              <WidgetList/>\n\n\n            </div>\n          </div>\n\n\n        </div>\n        </body>\n    )\n  }\n}\n\nconst stateToProperty = (state) => ({\n  course: state.courseReducer.course\n})\n\nconst propertyToDispatchMapper = (dispatch) => ({\n  findTopicsForLesson: lessonId => {\n    topicService.findTopicsForLesson(lessonId)\n    .then(topics => dispatch({\n      type: \"FIND_TOPICS_FOR_LESSON\",\n      topics,\n      lessonId\n    }))\n  },\n  findLessonsForModule: moduleId => {\n    lessonService.findLessonsForModule(moduleId)\n    .then(lessons => dispatch({\n      type: \"FIND_LESSONS_FOR_MODULE\",\n      lessons,\n      moduleId\n    }))\n  },\n  findModulesForCourse: courseId =>\n      moduleService.findModulesForCourse(courseId)\n      .then(actualModules => dispatch({\n        type: \"FIND_MODULES_FOR_COURSE\",\n        modules: actualModules\n      })),\n  findCourseById: (courseId) =>\n      findCourseById(courseId)\n  .then(actualCourse => dispatch({\n    type: \"FIND_COURSE_BY_ID\",\n    course: actualCourse\n  })),\n  findWidgetsForTopic: (topicId) =>\n      widgetService.findWidgetsForTopic(topicId)\n  .then(widgets => dispatch({\n    type: \"FIND_WIDGETS_FOR_TOPIC\",\n    widgets,\n    topicId\n  }))\n})\n\nexport default connect\n(stateToProperty, propertyToDispatchMapper)\n(CourseEditor)"]},"metadata":{},"sourceType":"module"}