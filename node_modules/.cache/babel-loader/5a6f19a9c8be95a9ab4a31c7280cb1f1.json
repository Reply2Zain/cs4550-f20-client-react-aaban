{"ast":null,"code":"var _jsxFileName = \"/Users/zainaaban/Documents/Northeastern/nf20/CS4550/cs4550-f20-client-react-aaban/src/components/CourseListCompent.js\";\nimport React from 'react';\nimport '../../node_modules/bootstrap/dist/css/bootstrap.css';\nimport '../../node_modules/font-awesome/css/font-awesome.min.css';\nimport CourseServiceClient from '../services/CourseService';\nimport CourseRow from \"../components/CourseRowComponent\"; //import '../styles/CourseList.css'\n//import { confirmAlert } from 'react-confirm-alert'\n//import 'react-confirm-alert/src/react-confirm-alert.css'\n\nexport default class CourseList extends React.Component {\n  constructor() {\n    super();\n    this.courseServiceClient = CourseServiceClient.instance;\n    this.state = {\n      courses: []\n    };\n    this.titleChanged = this.titleChanged.bind(this);\n    this.createCourse = this.createCourse.bind(this);\n    this.deleteCourse = this.deleteCourse.bind(this);\n  }\n\n  componentDidMount() {\n    this.findAllCourses();\n  }\n\n  findAllCourses() {\n    this.courseServiceClient.findAllCourses().then(courses => {\n      this.setState({\n        courses: courses\n      });\n      console.log(courses);\n    });\n  }\n\n  titleChanged(event) {\n    this.setState({\n      course: {\n        title: event.target.value\n      }\n    });\n  }\n\n  createCourse() {\n    console.log(\"creating course\");\n    this.courseServiceClient.createCourse(this.state.course).then(() => {\n      this.findAllCourses();\n    });\n  }\n\n  deleteCourse(courseId) {\n    confirmAlert({\n      title: 'Confirm to submit',\n      message: 'Are you sure you want to delete this course?',\n      buttons: [{\n        label: 'Yes',\n        onClick: () => this.courseServiceClient.deleteCourse(courseId).then(res => res.text()).then(text => text.length ? JSON.parse(text) : {}).then(() => alert(\"Successfully deleted course with id: \" + courseId)).catch(error => {\n          console.log(\"error deleting course\");\n        }).then(() => {\n          this.findAllCourses();\n        })\n      }, {\n        label: 'No',\n        onClick: () => console.log('do nothing')\n      }]\n    });\n  }\n\n  courseRows() {\n    var rows = this.state.courses.map(course => {\n      return /*#__PURE__*/React.createElement(CourseRow, {\n        course: course,\n        key: course.id,\n        delete: this.deleteCourse,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 14\n        }\n      });\n    });\n    return rows;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"course-manager-title header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-bars\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }), \"Course Manager\", /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"titleFld\",\n      placeholder: \"New Course Title\",\n      onChange: this.titleChanged,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-plus create\",\n      onClick: this.createCourse,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 15\n      }\n    }, \"Title\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }\n    }, \"Owned by\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 15\n      }\n    }, \"Last modified by me\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    }, this.courseRows())));\n  }\n\n}\n;","map":{"version":3,"sources":["/Users/zainaaban/Documents/Northeastern/nf20/CS4550/cs4550-f20-client-react-aaban/src/components/CourseListCompent.js"],"names":["React","CourseServiceClient","CourseRow","CourseList","Component","constructor","courseServiceClient","instance","state","courses","titleChanged","bind","createCourse","deleteCourse","componentDidMount","findAllCourses","then","setState","console","log","event","course","title","target","value","courseId","confirmAlert","message","buttons","label","onClick","res","text","length","JSON","parse","alert","catch","error","courseRows","rows","map","id","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../../node_modules/bootstrap/dist/css/bootstrap.css';\nimport '../../node_modules/font-awesome/css/font-awesome.min.css';\nimport CourseServiceClient from '../services/CourseService';\nimport CourseRow from \"../components/CourseRowComponent\";\n//import '../styles/CourseList.css'\n//import { confirmAlert } from 'react-confirm-alert'\n//import 'react-confirm-alert/src/react-confirm-alert.css'\n\nexport default class CourseList extends React.Component {\n  constructor() {\n    super();\n    this.courseServiceClient = CourseServiceClient.instance;\n    this.state = {courses: []};\n    this.titleChanged = this.titleChanged.bind(this);\n    this.createCourse = this.createCourse.bind(this);\n    this.deleteCourse = this.deleteCourse.bind(this);\n  }\n\n  componentDidMount() {\n    this.findAllCourses();\n  }\n\n  findAllCourses() {\n    this.courseServiceClient.findAllCourses()\n    .then((courses) => {\n      this.setState({courses: courses});\n      console.log(courses);\n    });\n  }\n\n  titleChanged(event) {\n    this.setState({\n      course: { title: event.target.value }\n    });\n  }\n\n  createCourse() {\n    console.log(\"creating course\");\n    this.courseServiceClient.createCourse(this.state.course)\n    .then(() => { this.findAllCourses(); });\n  }\n\n  deleteCourse(courseId) {\n    confirmAlert({\n      title: 'Confirm to submit',\n      message: 'Are you sure you want to delete this course?',\n      buttons: [\n        {\n          label: 'Yes',\n          onClick: () =>\n              this.courseServiceClient.deleteCourse(courseId)\n              .then((res) => res.text())\n              .then((text) => text.length ? JSON.parse(text) : {})\n              .then(() => alert(\"Successfully deleted course with id: \" + courseId))\n              .catch((error) => {\n                console.log(\"error deleting course\");\n              })\n              .then(() => { this.findAllCourses();\n              })\n        },\n        {\n          label: 'No',\n          onClick: () => console.log('do nothing')\n        }\n      ]\n    })\n  }\n\n  courseRows() {\n    var rows = this.state.courses.map((course) => {\n      return <CourseRow course={course} key={course.id} delete={this.deleteCourse}/>\n    });\n    return (\n        rows\n    )\n  }\n\n  render() {\n    return (\n        <div className=\"container-fluid\">\n          <div className=\"course-manager-title header\">\n            <i className=\"fa fa-bars\"></i>\n            Course Manager\n            <span>\n            <input id=\"titleFld\" placeholder=\"New Course Title\" onChange={this.titleChanged}/>\n            <i className=\"fa fa-plus create\" onClick={this.createCourse}></i>\n          </span>\n          </div>\n          <table className=\"table\">\n            <thead>\n            <tr>\n              <th>Title</th>\n              <th>Owned by</th>\n              <th>Last modified by me</th>\n            </tr>\n            </thead>\n\n            <tbody>\n            {this.courseRows()}\n            </tbody>\n          </table>\n        </div>\n    )\n  }\n};"]},"metadata":{},"sourceType":"module"}